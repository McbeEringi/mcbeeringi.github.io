<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>McbeEringi md</title>
	<link rel="preload" href="https://cdn.jsdelivr.net/npm/marked/marked.min.js" as="script">
	<link rel="stylesheet" href="../src/style.css">
</head>
<body>
	<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
	<script src="https://mcbeeringi.github.io/ta/ta.js"></script>
	<style>
		:root,body{margin:0;height:100%;}
		#ta{white-space:pre;width:50%;min-height:50%;max-height:100%;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);}
		#md{padding:8px;height:100%;box-sizing:border-box;}
		pre{white-space:pre-wrap;}
		@media print{:root{background-color:#fff;}:root::before{background:none;}#ta{display:none;}#md{height:initial;}}
	</style>
	<div id="md"></div>
	<textarea id="ta" class="zab"></textarea>
	
	<script>
		let timer;
		ta.value=decodeURIComponent(location.hash.slice(1))||'# Hello World!\n---\n- にゃんにゃん\n- にゃーん';
		TA.sizer(ta);
		(ta.oninput=_=>(
			timer&&clearTimeout(timer),
			timer=setTimeout(_=>location.hash=encodeURIComponent(ta.value),3000),
			md.innerHTML=marked.parse(ta.value,{breaks:true})
		))();
		md.onclick=_=>print();
	</script>
	<noscript>JavaScript seems disabled.</noscript>
</body>
</html>
